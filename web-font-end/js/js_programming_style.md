# JavaScript 编程风格

2015-10-29 15:56:39 by MwumLi

---

有人说, 编译器的规范叫做 "语法规则" (grammar), 这是程序员必须遵守的;  
而编译器忽略的部分, 就叫做 "编程风格" (programming style)  

编程风格, 指的是编写代码的样式规则。  
不同程序员, 往往有不同的编程风格。  

好的编程风格应该是一种能够清晰表达你的意图的风格  

下面列举一些我自己遵循的编程风格 :  

* **表示区块起首的大括号, 不要另起一行**  

        function func(){...};

* **圆括号**  
  圆括号在 js 中有两种作用 : 调用函数 和不同的值的组合  
  我们可以使用空格区分这两种不同的括号  
  1. 调用函数的时候, 函数名与左括号之间没有空格  

                func();

  2. 所有其他语法元素与左括号之间, 都有一个空格  

                return (a+b);
                if (a === 0) {...}

* **不要省略句末的分号 `;`**  
  虽说 js 自动会在末尾添加分号, 但是对于阅读代码的人来说, 一个语句末尾有分号更明了  

* **不要使用 `with` 语句**  
  个人觉得 with 语句有的时候容易引起误会, 既然你可以清晰的表达, 为什么不这么做, 虽然多敲了点字  
  像下面这样 :  
  
    with(o) {
        foo = bar;
    }

  可能有以下四种结果 :  

    o.foo = bar;
    o.foo = o.bar;
    foo = bar;
    foo = o.bar;

  这些结果取决于不同的变量是否有定义  
  对于阅读代码的人来说, 这是令人难以忍受的, 因为一般情况下阅读代码都是非常快的  


* **尽量使用 `===`**  
  因为 `==` 比较会自动转换变量类型, 造成很多意向不到的情况  

* 不要将不同目的的语句, 合并成一行  

        var a = b = 0;

  js 中的真实表现 :  

        b = 0;
        var a = 0;

  应该和你想的不一样吧  

* **变量声明**  
  js 下的变量提升, 会把变量提升到代码块的头部  
  因此, 这么做 :  
  1. 所有的变量声明尽量放在函数的头部  
  2. 所有的函数都在使用之前定义  

* **定义变量使用 `var`, 避免无意间成了全局变量**  
  如果确实要使用全局变量, 用大写字母表示变量名, 比如 `UPPER_CASE`  

* **构造函数的函数名, 采用首字母大写;其他函数名, 一律小写**  

* **使用 `+=` 和 `-=` 替代 `++` `--`**  

