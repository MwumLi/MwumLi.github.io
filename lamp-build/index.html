


<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		
		<title>倘若微小 - LAMP 环境搭建</title>

  		
		<meta name="description" content="Linux 下 Apache, Mysql, Php, phpMyAdmin 的安装与简单使用">
        

	    <meta name="author" content="MwumLi">
	
        <!-- syntax highlighting CSS -->
		<link rel="shortcut icon" href="/assets/imgs/favicon.ico" type="image/vnd.microsoft.icon">
        <!-- Custom CSS -->
		<link rel="stylesheet" href="/assets/themes/custom_me/css/cikonss.css"}}" />
        <link rel="stylesheet" href="/assets/themes/custom_me/css/main.css" type="text/css" media="all">
        <link rel="stylesheet" href="/assets/themes/custom_me/css/pygments.css" type="text/css" media="all">
        <link rel="stylesheet" href="/assets/themes/custom_me/css/jquery.mCustomScrollbar.min.css" type="text/css" media="all">`
        <link rel="stylesheet" href="/assets/themes/custom_me/css/bigfoot-number.css" type="text/css" media="all">

    </head>
    <body>
        <div id="all">
<!--            header start-->
            <div id="header">
                <div id="title">
                <h1 >
                    <a href="/">倘若微小<span class="title-tagline">---人生最美妙的风景就是内心的淡定和从容</span>
					</a>                     	   
				</h1>
                </div>
                <!--hr/ -->
                <div id="top-nav">
                    <ul>
					



    
  	
  
  
  
	  
	  			

  
	  
	  
  	 		
      		
	  			

  
	  
	  			

  
	  
	  			

  
	  
	  			

  
	  
	  			

  
	  
	  			

  
	  
	  			

  
	  
	  			

  
	  
	  			

  

  
  		<li><a href="/pages/micro_say/2015.html">微语</a></li>
  



					<li><a href="/pages/articles/index.html">文章</a></li>
					<li><a href="/pages/categories/index.html">分类</a></li>
					<li><a href="/pages/tags/index.html">标签</a></li>
					<li><a href="/rss.xml">rss订阅</a></li>
					</ul>   
                </div>
            </div> 
<!--            header end-->
            <!--hr /-->
            <div class="content">
                


<div class="page-header">
	<h1>LAMP 环境搭建 <small></small></h1>
	<div id="article_header">
		
		
		<div>
			<span>分类: </span>
			<a href="/pages/categories/index.html#记录-ref" class="tag">记录</a> 
			
				<span>标签: </span>
			
			
				<a href="/pages/tags/index.html#LAMP-ref" class="tag">LAMP</a>
    		
				<a href="/pages/tags/index.html#Linux-ref" class="tag">Linux</a>
    		
				<a href="/pages/tags/index.html#Apache-ref" class="tag">Apache</a>
    		
				<a href="/pages/tags/index.html#Mysql-ref" class="tag">Mysql</a>
    		
				<a href="/pages/tags/index.html#Php-ref" class="tag">Php</a>
    		
				<a href="/pages/tags/index.html#Web-ref" class="tag">Web</a>
    		
		</div>		
		<div>
			Last Modify in
			
			<span>2015-12-04</span>,
			
			published in <span>2014-06-14</span> 
			by <span> MwumLi</span>
		</div>

		
		
	</div>
</div>

<div id="page-content">
    
<ul id="markdown-toc">
  <li><a href="#apache-" id="markdown-toc-apache-">apache 服务器</a>    <ul>
      <li><a href="#section" id="markdown-toc-section">安装</a></li>
      <li><a href="#section-1" id="markdown-toc-section-1">重定义工作目录</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">配置文件布局</a></li>
      <li><a href="#apache2-" id="markdown-toc-apache2-">apache2 的启动和停止</a></li>
    </ul>
  </li>
  <li><a href="#mysql-" id="markdown-toc-mysql-">mysql 数据库</a>    <ul>
      <li><a href="#section-3" id="markdown-toc-section-3">安装</a></li>
      <li><a href="#mysql--1" id="markdown-toc-mysql--1">mysql 服务的启动和停止</a></li>
      <li><a href="#mysql--mysql-" id="markdown-toc-mysql--mysql-">mysql 客户端访问 mysql 服务</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">是否只允许本机访问</a></li>
    </ul>
  </li>
  <li><a href="#php" id="markdown-toc-php">PHP</a>    <ul>
      <li><a href="#section-5" id="markdown-toc-section-5">安装</a></li>
      <li><a href="#section-6" id="markdown-toc-section-6">测试</a></li>
    </ul>
  </li>
  <li><a href="#phpmyadmin" id="markdown-toc-phpmyadmin">phpMyadmin</a></li>
</ul>

<p>在 Linux 搭建一个可运行 php, 并且可以访问 mysql 数据库的服务端环境, 服务器是 Apache<br />
这就是 <code>LAMP</code></p>

<p>这里只是讲述了 Ubuntu 下的搭建, 并不包括所有的 Linux 发行版</p>

<p>Linux 下 php 扩展安装 : <a href="/php-extension-install/">请点这里</a></p>

<h2 id="apache-">apache 服务器</h2>

<h3 id="section">安装</h3>

<pre><code>$ sudo apt-get install apache2
</code></pre>

<p>安装完成，访问 <code>http://localhost</code><br />
如果出现<code>It works</code>,安装成功</p>

<h3 id="section-1">重定义工作目录</h3>

<p>不同版本的apache，工作目录有点差异</p>

<p><code>/etc/apache2/sites-enabled/000-default.conf</code> 中 <code>DocumentRoot</code> 后就是 Apache 的工作目录</p>

<p><strong>重定义工作目录需要</strong> :</p>

<ol>
  <li>
    <p><code>DocumentRoot /var/www/html</code> 改为 <code>DocumentRoot /home/ya/LAMP</code></p>
  </li>
  <li>
    <p>添加目录权限 :</p>

 	&lt;Directory /home/ya/LAMP &gt;
    <pre><code> 	Options Indexes FollowSymLinks
     AllowOverride None
 		Require all granted
 &lt;/Directory&gt;
</code></pre>

    <p>添加的地方有两处，任选一处即可：<br />
* 刚才修改的那句之后添加<br />
* 在 <code>/etc/apache2/apache2.conf</code> 中寻找 <code>Directory</code> 字眼，在这之后添加<br />
  (其实也无所谓，只是放着之后，方便管理)</p>
  </li>
</ol>

<h3 id="section-2">配置文件布局</h3>

<pre><code>/etc/apache2/
|-- apache2.conf
|
|-- ports.conf
|
|-- mods-enabled/
|   
|-- conf-enabled/
|   
|-- sites-enabled/
</code></pre>

<ul>
  <li><code>apache2.conf</code> 主配置文件<br />
当web服务器启动时，加载此文件，而此文件包含了其他配置文件</li>
  <li><code>ports.conf</code> 定制监听端口  <br />
被包含在<code>apache2.conf</code>,并且可以随时修改</li>
  <li><code>mods-enabled/</code>, <code>conf-enabled/</code>, <code>sites-enabled/</code> 下的配置文件分别是用来管理模块，全局配置片段，虚拟主机配置</li>
</ul>

<h3 id="apache2-">apache2 的启动和停止</h3>

<pre><code>$ service apache2 status        # 查看apache2的状态  
$ sudo service apache2 start    # 启动
$ sudo service apache2 stop     # 停止
$ sudo service apache2 restart  # 重新启动
</code></pre>

<h2 id="mysql-">mysql 数据库</h2>

<h3 id="section-3">安装</h3>

<pre><code>$ sudo apt-get install mysql-server mysql-client
</code></pre>

<p>同时安装了服务端和客户端</p>

<p>输入下面命令，按提示输入密码</p>

<pre><code>$ mysql -uroot -p
Enter password: 
</code></pre>

<p>安装成功，出现下面画面:</p>

<pre><code>Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 53
Server version: 5.5.37-0ubuntu0.14.04.1 (Ubuntu)

Copyright (c) 2000, 2014, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; 
</code></pre>

<h3 id="mysql--1">mysql 服务的启动和停止</h3>

<pre><code>$ service mysql status        # 查看mysql 服务的状态  
$ sudo service mysql start    # 启动
$ sudo service mysql stop     # 停止
$ sudo service mysql restart  # 重新启动
</code></pre>

<h3 id="mysql--mysql-">mysql 客户端访问 mysql 服务</h3>

<ol>
  <li>
    <p>root 用户, 密码为 hello, 登录 192.168.1.2 上的 mysql 数据库 :</p>

    <pre><code> mysql -h 192.167.1.2 -uroot -phello 	
</code></pre>
  </li>
  <li>
    <p>以 root 用户登录 127.0.0.1(默认), 密码等待输入</p>

    <pre><code> $ mysql -uroot -p 
 Enter Password:
</code></pre>
  </li>
</ol>

<h3 id="section-4">是否只允许本机访问</h3>

<p><code>/etc/mysql/my.cnf</code> 是 Mysql 的配置文件</p>

<p>里面有一项 <code>bind-address 127.0.0.1</code>, 指定 Mysql 数据库默认只允许本地访问数据库</p>

<p>如果需要其他机器访问，应使用 <code>#</code> 注释掉 :</p>

<pre><code># bind-address 127.0.0.1
</code></pre>

<h2 id="php">PHP</h2>

<h3 id="section-5">安装</h3>

<pre><code>$ sudo apt-get install php5 php5-dev libapache2-mod-php5 php5-mysql
</code></pre>

<ul>
  <li><code>php5</code> : php 解释器</li>
  <li><code>php5-dev</code> : php5 module 开发的一些文件, 包含了 <code>phpize</code> 命令</li>
  <li><code>libapache2-mod-php5</code> : Apache2 的 php5 module<br />
没有或disable,会出现 <code>无法解析php文件，浏览器提示下载所要打开的php文件</code><br />
<code>a2enmod</code> 和 <code>a2dismod</code> enable or disable an apache2 module</li>
  <li><code>php5-mysql</code> : Mysql module for php</li>
</ul>

<h3 id="section-6">测试</h3>

<p>在 apache 的工作根目录中新建文件 <code>phpinfo.php</code> ,内容为:</p>

<pre><code>&lt;?php phpinfo() ?&gt;
</code></pre>

<p>访问 <code>http://localhost/phpinfo.php</code><br />
若出现 php 的相关信息，则安装成功</p>

<h2 id="phpmyadmin">phpMyadmin</h2>

<p>phpMyadmin 是一个基于 Web 的图形化数据库管理软件</p>

<ol>
  <li>
    <p>下载 : <a href="http://www.phpmyadmin.net/home_page/">http://www.phpmyadmin.net/home_page/</a></p>
  </li>
  <li>
    <p>解压, 重命名为 <code>phpMyAdmin</code>, 移动到 apache 工作根目录下</p>
  </li>
  <li>
    <p>生成配置文件 <code>config.inc.php</code></p>

    <pre><code> $ cd phpMyAdmin
 $ cp config.sample.inc.php config.inc.php
</code></pre>
  </li>
  <li>
    <p>修改 <code>config.inc.php</code></p>
    <ul>
      <li>填写 : <code>$cfg['blowfish_secret'] = 'ED34DFGFF';  // 必须填写,但可以随意填写</code></li>
      <li>添加 mysql 访问 : <code>$cfg['Servers'][$i]['extension']='mysql';</code></li>
    </ul>
  </li>
</ol>


    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev">上一篇: <a href="/linux-file-system" title="Linux文件系统的创建和挂载">Linux文件系统的创建和挂载</a></li>
      
      
        <li class="next">下一篇: <a href="/websites-by-github-pages" title="为你和你的项目建立一个站点--Github Pages">为你和你的项目建立一个站点--Github Pages</a></li>
      
      </ul>
    </div>
    <hr>
	<div id="to_comments">
	


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'ifmicro'; // required: replace example with your forum shortname
	    /* * * DON'T EDIT BELOW THIS LINE * * */
	    (function() {
		         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
						         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
								     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>





	</div>

 </div>


   
            </div>
            <hr />
            <div id="footer">
                <p>
                <span>&copy;2014 MwumLi</span>
                </p>
            </div>
        </div>
		
		<!-- site top -->
		<div class="nav-bottom">
			<span class="icon icon-mid" id="site-top" title="滑动到顶部"><span class="icon-arrowUp"></span></span>
			<span class="icon icon-mid" id="site-comment" title="去评论"><span class="icon-comment-text"></span></span>
			<span class="icon icon-mid" id="site-bottom" title="滑动到底部"><span class="icon-arrowDown"></span></span>
		</div>

		


		<script src="/assets/themes/custom_me/js/jquery-2.1.3.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="/assets/themes/custom_me/js/jquery.zclip.js"></script>

		
		<script src="/assets/themes/custom_me/js/copy.js"></script>
		
		
		

		<script src="http://cdn.bootcss.com/underscore.js/1.8.3/underscore.js"></script>
		<script src="/assets/themes/custom_me/js/toc.js"></script>
		<script src="/assets/themes/custom_me/js/jquery.resizeEnd.js"></script>
		<script src="/assets/themes/custom_me/js/jquery.mCustomScrollbar.concat.min.js"></script>
	
		<script src="/assets/themes/custom_me/js/bigfoot.js"></script>
		<script src="/assets/themes/custom_me/js/toComments.js"></script>
		<script type="text/javascript" charset="utf-8">
			$(document).ready(function(){
//				if(navigator.userAgent.indexOf("Firefox") != -1) {
//					$("li p").parent().css("list-style-position", "outside");
//				}
					
				
				addCopy("pre", "copy", "Copy");
				

				tocEffect();
				toComments();
				var bigfoot=$.bigfoot({
					preventPageScroll: true
					})

			})
		</script>	
 </div>
    </body>
</html>




